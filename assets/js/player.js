(()=>{"use strict";var e={202:(e,t,a)=>{a.d(t,{n:()=>l});const l=()=>{document.getElementById("loading-screen").style.display="none"};window.addEventListener("DOMContentLoaded",(()=>{document.getElementById("loading-screen").style.display="flex"})),window.addEventListener("load",l)},12:(e,t,a)=>{a.d(t,{AI:()=>v,EM:()=>g,Lr:()=>L,Z2:()=>y,a$:()=>p,hM:()=>s,p2:()=>h});var l=a(202),r=a(247),n=a(14),d=a(862);let s,c=!1;const o=document.querySelectorAll("#music-card"),i=document.getElementById("player-box"),u=i.querySelector(".play-btn"),m=i.querySelector(".next-btn"),y=document.getElementById("timeline");let p=[],v=0,g=new Promise((e=>{window.onYouTubeIframeAPIReady=()=>{const t=document.getElementById("youtube-player");t?(s=new YT.Player(t,{videoId:"",events:{onReady:t=>{t.target.playVideo(),L(),e()},onStateChange:f}}),setInterval(r.gS,100),(0,l.n)()):console.error("Player element not found in the DOM")}}));function L(){s&&s.getPlayerState()===YT.PlayerState.PLAYING?s.pauseVideo():s.playVideo()}function h(){if(v<p.length-1){v++;const e=p[v];E(),(0,r.Q8)(),s.loadVideoById(e.videoId)}else console.log("End of playlist reached");b()}const E=()=>{L();const e=p[v],t=i.querySelector(".album-cover"),a=i.querySelector(".track-title-area"),l=i.querySelector(".artist");t.style.backgroundImage=`url(${e.albumImageUrl})`,l.textContent=e.artist,a.innerHTML="",a.innerHTML=(0,d.D)(e.title)},b=()=>{p.length<=1||v==p.length-1?m.disabled=!0:m.disabled=!1},f=e=>{console.log("playerstate",e.data),(0,n.U)(),e.data===YT.PlayerState.PLAYING?(u.disabled=!1,u.childNodes[0].classList.replace("fa-play","fa-pause"),r.go.childNodes[0].classList.replace("fa-play","fa-pause"),r.go.childNodes[0].style.fontSize="4rem"):e.data===YT.PlayerState.PAUSED?(u.childNodes[0].classList.replace("fa-pause","fa-play"),r.go.childNodes[0].classList.replace("fa-pause","fa-play")):e.data===YT.PlayerState.ENDED&&h()};o.forEach((e=>{const t=e.dataset.videoid,a=e.dataset.title,l=e.dataset.artist,d=e.dataset.albumimageurl;t?e.addEventListener("click",(()=>(e=>{let{videoId:t,title:a,artist:l,albumImageUrl:d}=e;s?(async e=>{let{videoId:t,title:a,artist:l,albumImageUrl:d}=e;if(p.unshift({videoId:t,title:a,artist:l,albumImageUrl:d}),v=0,b(),s){s.stopVideo();const e=p[0];e&&(E(),(0,r.Q8)(),s.loadVideoById(e.videoId))}else console.error("Player has not been initialized yet");(0,n.U)()})({videoId:t,title:a,artist:l,albumImageUrl:d}):console.error("Player has not been initialized yet")})({videoId:t,title:a,artist:l,albumImageUrl:d}))):console.error("Music card does not have a data-videoid attribute")})),u.addEventListener("click",L),m.addEventListener("click",h),document.addEventListener("DOMContentLoaded",(()=>{const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e)})),y.addEventListener("input",(function(e){const{target:{value:t}}=e;if(s&&s.getDuration){const e=t/100*s.getDuration();s.seekTo(e,!0)}else console.error("Player is not ready")})),y.addEventListener("mousedown",(function(){c=s.getPlayerState()===YT.PlayerState.PLAYING,c&&(s.pauseVideo(),u.childNodes[0].classList.replace("fa-pause","fa-play"),r.go.childNodes[0].classList.replace("fa-pause","fa-play"))})),y.addEventListener("mouseup",(function(){c&&(s.playVideo(),u.childNodes[0].classList.replace("fa-play","fa-pause"),r.go.childNodes[0].classList.replace("fa-play","fa-pause"))}))},247:(e,t,a)=>{a.d(t,{Q8:()=>m,gS:()=>y,go:()=>i});var l=a(12),r=a(956),n=a(862);const d=document.getElementById("player-box"),s=document.getElementById("player-screen"),c=document.querySelector(".fa-chevron-down"),o=s.querySelector(".next-btn"),i=s.querySelector(".play-btn"),u=document.querySelector("#check_box"),m=()=>{const{videoId:e,title:t,artist:a,albumImageUrl:r}=l.a$[l.AI],d=s.querySelector(".album-img"),c=s.querySelector(".track-title-area"),o=s.querySelector(".artist");d.src=r,c.innerHTML=(0,n.D)(t),o.innerHTML=a},y=async()=>{if(await l.EM,!l.hM)return;const e=l.hM.getCurrentTime(),t=l.hM.getDuration(),a=e/t*100;l.Z2.value=`${a}`;const n=document.querySelector(".current-time"),d=document.querySelector(".duration");n.textContent=(0,r.m)(e),d.textContent=(0,r.m)(t)};u.addEventListener("change",(e=>{d.style.transition="bottom 0.3s ease-out",e.target.checked?document.querySelector("#player-box").style.bottom="-100%":document.querySelector("#player-box").style.bottom="0"})),c.addEventListener("click",(()=>{s.classList.remove("active")})),i.addEventListener("click",l.Lr),o.addEventListener("click",l.p2),d.addEventListener("click",(e=>{"I"!==e.target.tagName&&"play-btn"!==e.target.parentNode.className&&"pause-btn"!==e.target.parentNode.className&&s.classList.add("active")}))},14:(e,t,a)=>{a.d(t,{U:()=>u});var l=a(12);const r=document.querySelector(".player-screen__nav"),n=r.querySelector(".handle-bar"),d=r.querySelectorAll("button"),s=document.querySelector(".nav__body"),c=e=>{e.target===n&&(r.classList.add("nav-active"),document.getElementById("player-box").classList.add("top-player"),d[0].click(),n.removeEventListener("click",c),n.addEventListener("click",o))},o=e=>{e.target===n&&(r.classList.remove("nav-active"),document.getElementById("player-box").classList.remove("top-player"),n.removeEventListener("click",o),n.addEventListener("click",c))},i=e=>{"nav-items"===e.target.parentNode.classList[0]&&(d.forEach((e=>{e.classList.remove("clicked")})),"next-track"==e.target.classList.value&&m(),e.target.classList.add("clicked"))},u=async()=>{await l.EM;const e=l.AI,t=document.querySelectorAll(".playlist-music-card");t?t.forEach(((t,a)=>{a==e?(t.style.backgroundColor="#1c1c1cb0",t.style.padding="3rem 1.5rem 5rem 1.5rem"):(t.style.backgroundColor="transparent",t.style.padding="2rem 1.5rem 4rem 1.5rem")})):console.log("No playing card found at index",e)},m=()=>{if(s.innerHTML="",0==l.a$.length){const e=document.createElement("div"),t=document.createElement("span");return t.innerHTML="재생목록에 곡을 추가해주세요.",e.classList.add("empty-playlist-div"),e.appendChild(t),void s.appendChild(e)}const e=document.createElement("div");e.classList.add("music-cards-container"),l.a$.forEach(((t,a)=>{let l=document.createElement("div");l.id="music-card",l.classList.add("playlist-music-card"),l.dataset.videoid=t.videoId,l.dataset.title=t.title,l.dataset.artist=t.artist,l.dataset.albumimageurl=t.albumImageUrl;let r=document.createElement("div");r.classList.add("album-cover"),r.style.backgroundImage=`url(${t.albumImageUrl})`;let n=document.createElement("div");n.classList.add("track-title-area");let d=document.createElement("div");d.classList.add("track-title"),d.textContent=t.title,n.appendChild(d);let s=document.createElement("div");s.classList.add("artist"),s.textContent=t.artist;let c=document.createElement("button");c.classList.add("play-btn");let o=document.createElement("i");o.classList.add("fa-solid"),o.classList.add("fa-ellipsis-vertical"),c.appendChild(o),l.appendChild(r),l.appendChild(n),l.appendChild(s),l.appendChild(c),e.appendChild(l)})),s.appendChild(e)};n.addEventListener("click",c),d.forEach((e=>{e.addEventListener("click",i)}))},956:(e,t,a)=>{function l(e){const t=Math.floor(e/60),a=Math.floor(e%60);return(t<10?"0"+t:t)+":"+(a<10?"0"+a:a)}a.d(t,{m:()=>l})},862:(e,t,a)=>{a.d(t,{D:()=>d});const l=document.querySelectorAll("#music-card"),r=e=>{const t=e.currentTarget.querySelector(".track-title-area"),a=t.querySelector(".track-title");if(a.clientWidth>t.clientWidth){t.classList.add("marquee"),a.classList.add("marquee-content"),a.classList.add("scroll");const e=a.cloneNode(!0);t.appendChild(e)}},n=e=>{const t=e.currentTarget.querySelector(".track-title-area"),a=t.querySelector(".track-title");t.classList.remove("marquee"),a.classList.remove("marquee-content"),a.classList.remove("scroll"),t.childNodes.length>1&&t.removeChild(t.lastChild)};l.forEach((e=>{e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",n)}));const d=e=>`\n  <div class="track-title-area marquee">\n    <div class="track-title marquee-content scroll">\n      ${e} \n    </div> \n    <div class="track-title marquee-content scroll">\n      ${e} \n    </div> \n  </div>`}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,a),n.exports}a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a(12)})();